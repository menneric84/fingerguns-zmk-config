# Change default bluetooth device name
CONFIG_ZMK_KEYBOARD_NAME="rick-plank"

# Enable Mouse Emulation
CONFIG_ZMK_MOUSE=y

# Core BLE Configuration
CONFIG_ZMK_BLE=y

# Windows Bluetooth Compatibility (Aggressive Fix)
CONFIG_BT_PERIPHERAL_PREF_MIN_INT=6
CONFIG_BT_PERIPHERAL_PREF_MAX_INT=6
CONFIG_BT_PERIPHERAL_PREF_LATENCY=0
CONFIG_BT_PERIPHERAL_PREF_TIMEOUT=200

# Simplified Buffer Configuration
CONFIG_BT_BUF_ACL_TX_COUNT=4
CONFIG_BT_L2CAP_TX_BUF_COUNT=4
CONFIG_ZMK_BEHAVIORS_QUEUE_SIZE=64

# Disable problematic features for Windows
CONFIG_ZMK_BLE_EXPERIMENTAL_CONN=n
CONFIG_BT_GATT_ENFORCE_SUBSCRIPTION=n
CONFIG_BT_GATT_AUTO_SEC_REQ=n
CONFIG_BT_PRIVACY=n
CONFIG_BT_RPA=n

# Force basic HID profile
CONFIG_BT_DIS=y
CONFIG_BT_DIS_PNP=n
CONFIG_BT_SMP=y
CONFIG_BT_SETTINGS=y

# Disable experimental features
CONFIG_ZMK_BLE_EXPERIMENTAL_FEATURES=n

# Force immediate connection
CONFIG_BT_CREATE_CONN_TIMEOUT=10
CONFIG_BT_CONN_TX_MAX=1

# Power Management
CONFIG_ZMK_EXT_POWER=y
CONFIG_ZMK_SLEEP=y
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=1800000

# TX Power (reduce for better stability)
CONFIG_BT_CTLR_TX_PWR_0=y

# Enable eager debouncing
CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS=0
CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS=5

# Enable ZMK Studio
CONFIG_ZMK_STUDIO=y
CONFIG_ZMK_STUDIO_LOCKING=n
