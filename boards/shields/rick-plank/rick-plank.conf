# Change default bluetooth device name
CONFIG_ZMK_KEYBOARD_NAME="rick-plank"

# Change default bluetooth device name
CONFIG_ZMK_KEYBOARD_NAME="rick-plank"

# Enable Mouse Emulation
CONFIG_ZMK_MOUSE=y

# Core BLE Configuration
CONFIG_ZMK_BLE=y
CONFIG_ZMK_BLE_EXPERIMENTAL_CONN=y

# Connection Parameters (Windows-optimized)
CONFIG_BT_PERIPHERAL_PREF_MIN_INT=6
CONFIG_BT_PERIPHERAL_PREF_MAX_INT=12
CONFIG_BT_PERIPHERAL_PREF_LATENCY=0
CONFIG_BT_PERIPHERAL_PREF_TIMEOUT=400

# Buffer Configuration
CONFIG_BT_BUF_ACL_TX_COUNT=8
CONFIG_BT_L2CAP_TX_BUF_COUNT=8
CONFIG_ZMK_BEHAVIORS_QUEUE_SIZE=128

# Connection Management (Windows-specific fixes)
CONFIG_ZMK_BLE_EXPERIMENTAL_CONN=y
CONFIG_BT_GATT_ENFORCE_SUBSCRIPTION=n
CONFIG_BT_GATT_AUTO_SEC_REQ=n

# Windows Bluetooth Stack Compatibility
CONFIG_BT_SMP=y
CONFIG_BT_PRIVACY=y
CONFIG_BT_SETTINGS=y
CONFIG_BT_DIS=y
CONFIG_BT_DIS_PNP=y

# More aggressive advertising for Windows detection
CONFIG_ZMK_BLE_EXPERIMENTAL_FEATURES=y

# Power Management
CONFIG_ZMK_EXT_POWER=y
CONFIG_ZMK_SLEEP=y
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=1800000

# TX Power (reduce for better stability)
CONFIG_BT_CTLR_TX_PWR_0=y
# Enable eager debouncing
CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS=0
CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS=5

# Enable ZMK Studio
CONFIG_ZMK_STUDIO=y
CONFIG_ZMK_STUDIO_LOCKING=n
